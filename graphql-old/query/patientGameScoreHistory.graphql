query PatientGameAssignmentsByPlayKey(
  $patientId: String!
  $playKey: String!
  $patientGameAssignmentId: String
) {
  patientGameAssigmentsByGameId(
    _patientId: $patientId
    _gameIdOrPlayKey: $playKey
    _patientGameAssignmentId: $patientGameAssignmentId
  ) {
    nodes{
      id
      game: gameByGameId {
        id
        name
        playKey
        versionName
        parentId
      }
      gameConfiguration: gameConfigurationByGameConfigurationId {
        id
        name
        createdAt
        modality
        version
        backgroundColor
        targetColor
        chartData {
          labels
          datasets {
            label
            data
            borderColor
            yAxisId
            # parsing {
            #   yAxisKey
            # }
            fill
          }
        }
        game: gameByGameId {
          id
          name
          playKey
          versionName
          parentId
          scoringConfigs: scoringConfigsByGameId {
            nodes {
              id
              gameId
              name
              displayName
              ordinal
              type
              chartingOptions
              isPrimary
            }
          }
        }
        levels: levelsByGameConfigurationId {
          nodes {
            id
            levelNumber
            completionScore
            completionCriteria
            settings: gameLevelSettingsByLevelId {
              nodes {
                id
                appTenantId
                settingConfig: settingConfigBySettingConfigId {
                  id
                  name
                  displayName
                  ordinal
                  type
                  uiType
                  acceptedValues {
                    label
                    value
                  }
                }
                value
              }
            }
          }
        }
        gameSessions: gameSessionsByGameConfigurationId (
          orderBy: STARTED_AT_DESC
        ) {
          nodes {
            id
            startedAt
            expiresAt
            status
            scoreRollup {
              nodes {
                scoringField
                topResult
                meanResult
              }
            }
            chartData {
              labels
              datasets {
                label
                data
                borderColor
                fill
              }
            }
            scores: scoresByGameSessionId (
              orderBy: REPORTED_AT_DESC
            ) {
              nodes {
                id
                reportedAt
                scoreInfo
              }
            }
          }
        }
      }
  	}
  }
}
