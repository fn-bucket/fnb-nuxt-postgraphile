query OldCustomerByCompanyId(
  $companyId: String!
) {
  oldCustomerByCompanyId(companyId: $companyId) {
    companyId
    appTenant: appTenantByAppTenantId {
      id
      name
    }
    clinicId
    companyName
    action
    users: oldUsersByCompanyId(
      orderBy: SUBSCRIPTION_STARTS_DESC
    ) {
      totalCount
      nodes {
        companyId
        companyName
        memberId
        memberSince
        subscriptionStarts
        lastAccessed
        scoreCount
        recentScore
        newLicense
        email
    		firstName
        lastName
        action
      }
    }
  }
  
  allAppTenants(
    condition: {
      type: CUSTOMER
  	}
    orderBy: NAME_ASC
  ) {
    nodes {
      id
      name
      linkedOldCustomer: oldCustomerByAppTenantId {
        companyId
        companyName
      }
    }
  }
}