#mutation AcknowledgePatientMessages(
#  $patientId: String!
#) {
#  acknowledgePatientMessages(input: {
#    _patientId: $patientId
#  }) {
#    boolean
#  }
#}
mutation AcknowledgePatientMessages($patientId: String!) {
  acknowledgePatientMessages(input: { _patientId: $patientId }) {
    boolean
    query {
      patientById(id: $patientId) {
        id
        createdDate
        deactivatedDate
        contact: contactByContactId {
          id
          fullName
          email
        }
        topicInclusive: topicByTopicIdInclusive {
          id
          name
          messages: messagesByTopicId(
            orderBy: CREATED_AT_DESC
            condition: { status: SENT }
          ) {
            nodes {
              id
              createdAt
              acknowledgedAt
              content
              tags
              postedByContact: contactByPostedByContactId {
                id
                fullName
                email
              }
            }
          }
        }
      }
    }
  }
}